!function(){function e(e){return e&&e.__esModule?e.default:e}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=o.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var o=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,o){r[e]=o},o.parcelRequired7c6=a),a.register;var i=a("c5QNC"),n=a("eDJ2U"),l=a("6biEZ"),c=a("6v7L0"),s=a("8BR1R");a("g4oJQ");var d=a("c0gs0"),u=a("5pQdp"),f=a("casf1"),v=a("bs7up"),g=a("gRe3Q");let p=null;async function y(){let e=document.querySelector(".fav-categories-btn-wrapper"),o=f.STORAGE_KEYS.FAVORITES_KEY,t=(0,v.loadFromStorage)(o);if(console.log("\uD83D\uDE80 favCategoriesId:",t),!Array.isArray(t)||0===t.length)return void console.log("❗️ No favorites recipes");try{p=await Promise.all(t.map(e=>(0,g.fetchRecipeInfo)(e))),console.log("\uD83D\uDE80 allFavRecipes:",p);let o=p.map(e=>e.category);console.log("\uD83D\uDE80 favCategories:",o),e.innerHTML=o.map(e=>`
        <button class="fav-btn" type="button" aria-label="${e} category button">${e}</button>
        `).join("")}catch(e){throw console.error("Error fetching favorites recipes:",e),e}}var h=a("1NkZi"),m=a("bZfSk"),b=a("ghCjF"),E=a("iPy5Q");a("9Fq9y");var v=a("bs7up"),f=a("casf1");let w=f.STORAGE_KEYS.FAVORITES_KEY,S=(0,v.loadFromStorage)(w)||[];async function L(){let o=document.querySelector(".favorites-gallery-container"),t=document.querySelector(".favorites-gallery");(0,E.showLoader)(t,o);try{console.log(p.length);let t=p.length,r=window.innerWidth>=768?12:9,a=Math.ceil(t/r);for(let e=1;e<=a;e++)for(let e=0;e<r;e++);let i=(0,m.createGalleryMarkup)(p);(0,b.renderGallery)(o,i),function(){S=(0,v.loadFromStorage)(w)||[];let o=document.querySelectorAll(".gallery-item__favorite-btn");o&&o.forEach(o=>{var t,r;let a=o.querySelector(".favorite-btn__icon"),i=o.dataset.id;a&&i&&(t=a,r=i,t&&r&&S.includes(r)&&t.classList.add("saved"),o.addEventListener("click",()=>{if(S.includes(i)){a.classList.remove("saved");let o=S.indexOf(i);S.splice(o,1),e(h).Notify.warning("Removed from favorite",{clickToClose:!0})}else a.classList.add("saved"),S.push(i),e(h).Notify.success("Added to favorite",{clickToClose:!0});if(0===S.length)return void(0,v.removeFromStorage)(w);(0,v.saveToStorage)(w,S)}))})}()}catch(e){throw console.error("Error loading favorite recipes on the client:",e),e}finally{(0,E.hideLoader)(t,o)}}window.ResizeObserver=i.default,document.addEventListener("DOMContentLoaded",async()=>{document.body.classList.add(0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")?"webp":"no-webp"),(0,n.initTheme)(),(0,u.highlightActiveNavLink)(),(0,l.initHeaderEventListeners)(),(0,c.initMobileMenu)(),(0,s.initModal)(),await y(),L(),(0,d.initBackToTop)()})}();
//# sourceMappingURL=favorites.cb3a1f8c.js.map
