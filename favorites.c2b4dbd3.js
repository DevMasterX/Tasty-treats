!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var s={id:e,exports:{}};return t[e]=s,n.call(s.exports,s,s.exports),s.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},e.parcelRequired7c6=n),n.register;var s=n("c5QNC"),i=n("eDJ2U"),r=n("6biEZ"),o=n("6v7L0"),l=n("8BR1R");n("g4oJQ");var c=n("c0gs0"),g=n("5pQdp"),d=n("casf1"),u=n("bs7up"),f=n("gRe3Q");async function p(){let e=d.STORAGE_KEYS.FAVORITES_KEY,t=(0,u.loadFromStorage)(e);if(!Array.isArray(t)||0===t.length)return void console.log("❗️ No favorites recipes");try{return await Promise.all(t.map(e=>(0,f.fetchRecipeInfo)(e)))}catch(e){throw console.error("Error fetching favorites recipes:",e),e}}var v=n("1NkZi"),B=n("bZfSk"),b=n("ghCjF"),P=n("iPy5Q");function m(){console.log("onFirstPageBtnClick"),R()}async function y(){let{currentPage:e}=k();console.log("\uD83D\uDE80 currentPage:",e),await R(e-1)}async function L(e){q(e);let{firstBtnPageNumber:t}=k();await R(t)}function E(e){N(e)}function h(e){N(e)}function x(e){N(e)}async function w(e){q(e);let{firstBtnPageNumber:t}=k();await R(t)}async function D(){let{currentPage:e,existingPageBtns:t}=k(),a=e+1;console.log("\uD83D\uDE80 nextPage:",a),t.forEach(e=>{e.classList.toggle("active",Number(e.dataset.page)===a)}),await R(a)}async function S(){let{totalPages:e}=k();console.log("\uD83D\uDE80 lastPage:",e),await R(e)}async function N(e){console.log(e.target);let{existingPageBtns:t,currentPage:a}=k();console.log("\uD83D\uDE80 existingPageBtns:",t),console.log("\uD83D\uDE80 currentPage:",a);let n=e.currentTarget,s=Number(n.dataset.page);console.log("\uD83D\uDE80 btnPageNumber:",s),s!==a&&(t.forEach(e=>{e.classList.remove("active")}),n.classList.add("active"),await R(s))}function k(){let e=document.querySelector(".home-pagination"),t=e.querySelector(".js-first-page-btn"),a=e.querySelector(".js-prev-page-btn"),n=e.querySelector(".js-pagination-prev-pages-btn"),s=e.querySelector(".js-pagination-first-btn"),i=e.querySelector(".js-pagination-second-btn"),r=e.querySelector(".js-pagination-third-btn"),o=e.querySelector(".js-pagination-next-pages-btn"),l=e.querySelector(".js-pagination-next-page-btn"),c=e.querySelector(".js-pagination-last-page-btn"),g=e.querySelector(".js-pagination__center-btns-wrapper"),d=C,u=_,f=[...g.children].filter(e=>e.dataset.page),p=Number(f[0].dataset.page),v=f.length,B=Number(f[f.length-1].dataset.page);return{firstPageBtn:t,prevPageBtn:a,prevPagesBtn:n,firstBtn:s,secondBtn:i,thirdBtn:r,nextPagesBtn:o,nextPageBtn:l,lastPageBtn:c,pageBtnsContainer:g,totalPages:d,existingPageBtns:f,pageBtnsAmount:v,firstBtnPageNumber:p,lastBtnPageNumber:B,isLastBtns:B>=d,isFirstBtns:p<v,currentPage:u}}function q(e){let{firstPageBtn:t,nextPagesBtn:a,prevPagesBtn:n,existingPageBtns:s,pageBtnsAmount:i}=k();if(e.currentTarget===a)for(let e=0;e<i;e++)s[e].dataset.page=`${Number(s[e].dataset.page)+i}`,s[e].textContent=s[e].dataset.page,t.classList.contains("active")||s[e].classList.remove("active");else if(e.currentTarget===n)for(let e=0;e<i;e++)s[e].dataset.page=`${Number(s[e].dataset.page)-i}`,s[e].textContent=s[e].dataset.page,t.classList.contains("active")||s[e].classList.remove("active")}var u=n("bs7up"),d=n("casf1");let T=d.STORAGE_KEYS.FAVORITES_KEY;console.log("\uD83D\uDE80 favoritesValue:",favoritesValue);let _=null,C=null;async function R(e=1){_=e;let t=document.querySelector(".favorites-gallery-container"),a=document.querySelector(".favorites-gallery");(0,P.showLoader)(a,t);try{let e=await p(),a=e.length,n=window.innerWidth>=768?12:9;C=Math.ceil(a/n);let s=(_-1)*n,i=e.slice(s,s+n),r=(0,B.createGalleryMarkup)(i);(0,b.renderGallery)(t,r),function(e,t){let{pageBtnsAmount:a,firstPageBtn:n,prevPageBtn:s,existingPageBtns:i,prevPagesBtn:r,nextPagesBtn:o,nextPageBtn:l,lastPageBtn:c,firstBtnPageNumber:g,lastBtnPageNumber:d}=k();if(1===e)for(let t=0;t<a;t++)i[t].dataset.page=e+t,i[t].textContent=i[t].dataset.page;else if(e===t)for(let t=a-1,n=0;n<a;t--,n++)i[t].dataset.page=e-n,i[t].textContent=i[t].dataset.page,i[t].classList.toggle("visually-hidden",0===Number(i[t].dataset.page));else if(e>d)for(let t=0;t<a;t++)i[t].dataset.page=e+t,i[t].textContent=i[t].dataset.page;else if(e<g)for(let t=a-1,n=0;n<a;t--,n++)i[t].dataset.page=e-n,i[t].textContent=i[t].dataset.page;let{isLastBtns:u,isFirstBtns:f}=k();i.forEach(a=>{let n=Number(a.dataset.page);n&&(a.classList.toggle("visually-hidden",n>t||0===n),a.classList.toggle("active",Number(a.dataset.page)===e))}),n.classList.toggle("disabled",1===e),s.classList.toggle("disabled",1===e),r.classList.toggle("disabled",f),o.classList.toggle("disabled",u),l.classList.toggle("disabled",e===t),c.classList.toggle("disabled",e===t)}(_,C),function(){let e=(0,u.loadFromStorage)(T)||[],t=document.querySelectorAll(".gallery-item__favorite-btn");t&&t.forEach(t=>{var a,n;let s=t.querySelector(".favorite-btn__icon"),i=t.dataset.id;s&&i&&(a=s,n=i,a&&n&&favoritesValue.includes(n)&&a.classList.add("saved"),t.addEventListener("click",()=>{s.classList.remove("saved");let t=e.indexOf(i);if(e.splice(t,1),(v&&v.__esModule?v.default:v).Notify.warning("Removed from favorite",{clickToClose:!0}),0===e.length)return void(0,u.removeFromStorage)(T);(0,u.saveToStorage)(T,e)}))})}()}catch(e){throw console.error("Error loading favorite recipes on the client:",e),e}finally{(0,P.hideLoader)(a,t)}}var j=n("a7x8z");window.ResizeObserver=s.default,document.addEventListener("DOMContentLoaded",async()=>{document.body.classList.add(0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")?"webp":"no-webp"),(0,i.initTheme)(),(0,g.highlightActiveNavLink)(),(0,j.renderPaginationButtons)(),(0,r.initHeaderEventListeners)(),(0,o.initMobileMenu)();let{firstPageBtn:e,prevPageBtn:t,nextPagesBtn:a,lastPageBtn:n,nextPageBtn:s,prevPagesBtn:d,firstBtn:u,secondBtn:f,thirdBtn:p}=k();e?.addEventListener("click",m),t?.addEventListener("click",y),d?.addEventListener("click",L),u?.addEventListener("click",E),f?.addEventListener("click",h),p?.addEventListener("click",x),a?.addEventListener("click",w),s?.addEventListener("click",D),n?.addEventListener("click",S),(0,l.initModal)(),await R(),(0,c.initBackToTop)()})}();
//# sourceMappingURL=favorites.c2b4dbd3.js.map
