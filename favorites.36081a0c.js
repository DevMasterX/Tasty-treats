import"./Tasty-treats.065c66cb.js";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var s={id:e,exports:{}};return t[e]=s,n.call(s.exports,s,s.exports),s.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},e.parcelRequired7c6=n),n.register;var s=n("2Lp6e"),i=n("fldFS"),r=n("lNHyT"),l=n("jBBdw"),o=n("8IXMh"),c=n("eq7JK"),d=n("g8Qcq"),g=n("5a6Bh");let u=document.querySelector(".favorites-container"),f=!1;function p(e){if(u.classList.toggle("visually-hidden",!e),!e)return;let t=document.querySelector(".fav-categories-btn-wrapper");if(t)try{var a,n;t.innerHTML=[...new Set(e.map(e=>e.category))].map(e=>`
        <button class="fav-btn" type="button" aria-label="${e} category button" data-category="${e}">${e}</button>
        `).join(""),a=t,window.innerWidth>=1024&&(a.scrollLeft=500,setTimeout(()=>a.scrollLeft=0,500)),a.scrollLeft=250,setTimeout(()=>a.scrollLeft=0,500),f||(n=e,console.log("\uD83D\uDE80 favRecipes:",n),n&&(document.querySelector(".js-categories-btn-container").addEventListener("click",e=>(function(e,t){let a=e.target.closest("button");if(!a)return;let n=a.dataset.category;if(n){var s;if(console.log("\uD83D\uDE80 category:",n),console.log("\uD83D\uDE80 button:",a),function(){let e=document.querySelector(".fav-all-btn");[...document.querySelector(".fav-categories-btn-wrapper").children].forEach(e=>{e.classList.contains("checked")&&e.classList.remove("checked")}),e.classList.contains("checked")&&e.classList.remove("checked")}(),(s=a).classList.contains("checked")||s.classList.add("checked"),"All"===n){(function(){$=null})(),V();return}V(1,t.filter(e=>e.category===n))}})(e,n)),f=!0))}catch(e){throw console.error("Error fetching favorites recipes:",e),e}}var v=n("8e6VR"),y=n("knT2m"),L=n("adAgQ");function m(){console.log("onFirstPageBtnClick"),V()}async function h(){let{currentPage:e}=q();console.log("\uD83D\uDE80 currentPage:",e),await V(e-1)}async function b(e){k(e);let{firstBtnPageNumber:t}=q();await V(t)}function B(e){x(e)}function P(e){x(e)}function E(e){x(e)}async function D(e){k(e);let{firstBtnPageNumber:t}=q();await V(t)}async function S(){let{currentPage:e,existingPageBtns:t}=q(),a=e+1;console.log("\uD83D\uDE80 nextPage:",a),t.forEach(e=>{e.classList.toggle("active",Number(e.dataset.page)===a)}),await V(a)}async function w(){let{totalPages:e}=q();console.log("\uD83D\uDE80 lastPage:",e),await V(e)}async function x(e){let{existingPageBtns:t,currentPage:a}=q(),n=e.currentTarget,s=Number(n.dataset.page);s!==a&&(t.forEach(e=>{e.classList.remove("active")}),n.classList.add("active"),await V(s))}function q(){let e=document.querySelector(".home-pagination"),t=e.querySelector(".js-first-page-btn"),a=e.querySelector(".js-prev-page-btn"),n=e.querySelector(".js-pagination-prev-pages-btn"),s=e.querySelector(".js-pagination-first-btn"),i=e.querySelector(".js-pagination-second-btn"),r=e.querySelector(".js-pagination-third-btn"),l=e.querySelector(".js-pagination-next-pages-btn"),o=e.querySelector(".js-pagination-next-page-btn"),c=e.querySelector(".js-pagination-last-page-btn"),d=e.querySelector(".js-pagination__center-btns-wrapper"),g=K,u=H,f=[...d.children].filter(e=>e.dataset.page),p=Number(f[0].dataset.page),v=f.length,y=Number(f[f.length-1].dataset.page);return{firstPageBtn:t,prevPageBtn:a,prevPagesBtn:n,firstBtn:s,secondBtn:i,thirdBtn:r,nextPagesBtn:l,nextPageBtn:o,lastPageBtn:c,pageBtnsContainer:d,totalPages:g,existingPageBtns:f,pageBtnsAmount:v,firstBtnPageNumber:p,lastBtnPageNumber:y,isLastBtns:y>=g,isFirstBtns:1===p,currentPage:u}}function k(e){let{firstBtn:t,nextPagesBtn:a,prevPagesBtn:n,existingPageBtns:s,pageBtnsAmount:i,lastBtnPageNumber:r,firstBtnPageNumber:l,totalPages:o}=q();if(e.currentTarget===a){if(r+i>o){for(let e=i-1,a=0;a<i;e--,a++)s[e].dataset.page=o-a,s[e].textContent=s[e].dataset.page,t.classList.contains("active")||s[e].classList.remove("active");t.classList.contains("active")||t.classList.add("active");return}for(let e=0;e<i;e++)s[e].dataset.page=`${Number(s[e].dataset.page)+i}`,s[e].textContent=s[e].dataset.page,t.classList.contains("active")||s[e].classList.remove("active");t.classList.contains("active")||t.classList.add("active")}else if(e.currentTarget===n){if(l-i<1){for(let e=0;e<i;e++)s[e].dataset.page=e+1,s[e].textContent=s[e].dataset.page,t.classList.contains("active")||s[e].classList.remove("active");t.classList.contains("active")||t.classList.add("active");return}for(let e=0;e<i;e++)s[e].dataset.page=`${Number(s[e].dataset.page)-i}`,s[e].textContent=s[e].dataset.page,firstPageBtn.classList.contains("active")||s[e].classList.remove("active");t.classList.contains("active")||t.classList.add("active")}}function N(e,t){let{pageBtnsAmount:a,firstPageBtn:n,prevPageBtn:s,existingPageBtns:i,prevPagesBtn:r,nextPagesBtn:l,nextPageBtn:o,lastPageBtn:c,firstBtnPageNumber:d,lastBtnPageNumber:g}=q();if(1===e)for(let t=0;t<a;t++)i[t].dataset.page=e+t,i[t].textContent=i[t].dataset.page;else if(e===t)for(let t=a-1,n=0;n<a;t--,n++)i[t].dataset.page=e-n,i[t].textContent=i[t].dataset.page,i[t].classList.toggle("visually-hidden",0===Number(i[t].dataset.page));else if(e>g)for(let t=0;t<a;t++)i[t].dataset.page=e+t,i[t].textContent=i[t].dataset.page;else if(e<d)for(let t=a-1,n=0;n<a;t--,n++)i[t].dataset.page=e-n,i[t].textContent=i[t].dataset.page;let{isLastBtns:u,isFirstBtns:f}=q();i.forEach(a=>{let n=Number(a.dataset.page);n&&(a.classList.toggle("visually-hidden",n>t||0===n),a.classList.toggle("active",Number(a.dataset.page)===e))}),n.classList.toggle("disabled",1===e),s.classList.toggle("disabled",1===e),r.classList.toggle("disabled",f),l.classList.toggle("disabled",u),o.classList.toggle("disabled",e===t),c.classList.toggle("disabled",e===t)}var T=n("d1WZ0"),A=n("emajU"),_=n("gC7Fo");async function j(){let e=T.STORAGE_KEYS.FAVORITES_KEY,t=(0,A.loadFromStorage)(e);if(!Array.isArray(t)||0===t.length)return void console.log("❗️ No favorites recipes");try{return await Promise.all(t.map(e=>(0,_.fetchRecipeInfo)(e)))}catch(e){throw console.error("Error fetching favorites recipes:",e),e}}var A=n("emajU"),T=n("d1WZ0");let C=document.querySelector(".pagination"),M=document.querySelector(".favorites-container"),R=T.STORAGE_KEYS.FAVORITES_KEY,F=(0,A.loadFromStorage)(R)||[];console.log("\uD83D\uDE80 favoritesValue:",F);let O=window.innerWidth>=768?12:9,G=document.querySelector(".favorites-gallery-container"),I=document.querySelector(".fav-all-btn");console.log("\uD83D\uDE80 allCategoriesBtn:",I);let H=null,K=null;C.classList.add("centered"),C.classList.add("visually-hidden");let U=null,$=null;async function V(e=1,t=null){H=e,t&&($=t);let a=document.querySelector(".favorites-gallery");(0,L.showLoader)(a,G);try{if($){console.log("\uD83D\uDE80 filteredRecipes:",$);let e=Array.isArray($)?$.length:0;console.log("\uD83D\uDE80 recipesAmount:",e),K=Math.ceil(e/O);let t=(H-1)*O,a=$?.slice(t,t+O);if(a){let e=(0,v.createGalleryMarkup)(a);(0,y.renderGallery)(G,e),W()}C.classList.toggle("visually-hidden",K<=1),N(H,K)}else{U||(U=await j());let e=Array.isArray(U)?U.length:0;console.log("\uD83D\uDE80 recipesAmount:",e),K=Math.ceil(e/O);let t=(H-1)*O,a=U?.slice(t,t+O);if(U&&p(U),M.classList.toggle("visually-hidden",!U),a){let e=(0,v.createGalleryMarkup)(a);(0,y.renderGallery)(G,e),W()}C.classList.toggle("visually-hidden",K<=1),N(H,K)}}catch(e){throw console.error("Error loading favorite recipes on the client:",e),e}finally{(0,L.hideLoader)(a,G)}}function W(){let e=document.querySelectorAll(".gallery-item__favorite-btn");e&&e.forEach(e=>{var t,a;let n=e.querySelector(".favorite-btn__icon"),s=e.dataset.id;n&&s&&(t=n,a=s,t&&a&&F.includes(a)&&t.classList.add("saved"),e.addEventListener("click",async()=>{let e;if(n.classList.remove("saved"),(g&&g.__esModule?g.default:g).Notify.warning("Removed from favorite",{clickToClose:!0}),function(e){let t=F.indexOf(e);F.splice(t,1),0===F.length?(0,A.removeFromStorage)(R):(0,A.saveToStorage)(R,F)}(s),function(e){let t=U.findIndex(t=>t._id===e);U.splice(t,1)}(s),$&&(function(e){let t=$.findIndex(t=>t._id===e);$.splice(t,1)}(s),!$.length)){p(U),$=null,V(),I.classList.add("checked");return}e=$?Math.ceil($.length/O):Math.ceil(F.length/O),H>e&&V(H=e),V(H)}))})}var Y=n("JxTJl");window.ResizeObserver=s.default,document.addEventListener("DOMContentLoaded",async()=>{document.body.classList.add(0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")?"webp":"no-webp"),(0,i.initTheme)(),(0,d.highlightActiveNavLink)(),(0,Y.renderPaginationButtons)(),(0,r.initHeaderEventListeners)(),(0,l.initMobileMenu)();let{firstPageBtn:e,prevPageBtn:t,nextPagesBtn:a,lastPageBtn:n,nextPageBtn:s,prevPagesBtn:g,firstBtn:u,secondBtn:f,thirdBtn:p}=q();e?.addEventListener("click",m),t?.addEventListener("click",h),g?.addEventListener("click",b),u?.addEventListener("click",B),f?.addEventListener("click",P),p?.addEventListener("click",E),a?.addEventListener("click",D),s?.addEventListener("click",S),n?.addEventListener("click",w),(0,o.initModal)(),await V(),(0,c.initBackToTop)()});
//# sourceMappingURL=favorites.36081a0c.js.map
