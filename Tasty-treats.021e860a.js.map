{"mappings":"IKII,EAAO,EAAS,EF2BpB,MAAM,EAAY,QACZ,EAAa,aI9Bb,EAAmB,CACvB,SAAU,CACR,SAAU,CAAA,EACV,aAAc,wBAChB,EACA,aAAc,CACZ,SAAU,CAAA,EACV,QAAS,qBACT,aAAc,4BAChB,EACA,MAAO,CACL,SAAU,CAAA,EACV,QAAS,6BACT,aAAc,6BAChB,CACF,EAwBA,SAAS,EAAc,CAAY,MA6Bf,EAAc,EA5BhC,IAAM,EAAS,CAAgB,CAAC,EAAa,IAAI,CAAC,CAElD,GAAI,CAAC,EAAQ,OAEb,GAAM,CAAA,SAAE,CAAQ,CAAA,QAAE,CAAO,CAAA,aAAE,CAAY,CAAE,CAAG,EACtC,EAAQ,EAAa,KAAK,CAAC,IAAI,GAC/B,EAAU,EAAgB,GAE5B,GAAY,AAAU,KAAV,GAEL,GAAW,CAAC,EAAQ,IAAI,CAAC,GAClC,AAMJ,SAAmB,CAAY,CAAE,CAAO,CAAE,CAAY,EAC/C,GAAiB,IAElB,EAAa,WAAW,GAAK,GAC/B,CAAA,EAAa,WAAW,CAAG,CAD7B,EAIA,EAAa,SAAS,CAAC,GAAG,CAAC,cAC3B,EAAa,SAAS,CAAC,MAAM,CAAC,YAChC,EAfc,EAAS,EAAc,IAiBjB,EAfL,EAemB,EAfL,EAgB3B,EAAa,SAAS,CAAC,MAAM,CAAC,cAC9B,EAAa,SAAS,CAAC,GAAG,CAAC,YACvB,GACF,CAAA,EAAQ,WAAW,CAAG,EADxB,EAhBF,CA8DA,SAAS,EAAgB,CAAK,EAC5B,OAAO,EAAM,OAAO,CAAC,UAAU,cAAc,6BAC/C,CFrEA,SAAS,EAAU,CAAC,EACb,IAEL,AAYF,SAAyB,CAAS,EAChC,GAAI,AAAC,GAAiB,EAEtB,GACO,UADC,GAEJ,EAAa,SAAS,CCvEnB;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAsCP,EAAA,CAAC,CErCgB,aAAa,OAAO,GAExB,SAAS,aAAa,CAAC,kBDgBpC,IAAM,EAAO,SAAS,aAAa,CAAC,kBAC/B,GAEL,EAAK,gBAAgB,CAAC,SAAU,AAAA,IAC9B,EAAE,cAAc,GAOlB,IAAI,AANW,EAMN,QAAQ,CAAC,CAAC,OAAO,CAAC,AAAA,QA0EA,EAzEzB,EAAc,GA2Eb,CAFwB,EAxEL,GA0Eb,IAAI,GACX,EAAM,OAAO,CAAC,aAAa,EAC1B,CAAgB,CAAC,EAAM,IAAI,CAAC,GAI/B,EAAM,gBAAgB,CAAC,QAAS,KAC9B,EAAc,EAChB,GACA,EAAM,OAAO,CAAC,aAAa,CAAG,OAlF9B,GARE,AAoDJ,SAA2B,CAAI,EAC7B,IAAM,EAAe,IAAI,EAAK,QAAQ,CAAC,CAAC,IAAI,CAAC,AAAA,GAC3C,EAAM,SAAS,CAAC,QAAQ,CAAC,eAG3B,GAAI,EAAc,OAChB,EAAa,KAAK,GAWpB,IAAI,AAPiB,EAOZ,QAAQ,CAAC,CAAC,OAAO,CAAC,AAAA,IACzB,EAAM,SAAS,CAAC,MAAM,CAAC,WAAY,cACnC,OAAO,EAAM,OAAO,CAAC,aAAa,CAElC,IAAM,EAAU,EAAgB,EAE5B,CAAA,GAAS,CAAA,EAAQ,WAAW,CAAG,EAAnC,CACF,GAbA,EAAK,KAAK,GACV,AAAA,IACA,QAAQ,GAAG,CAAC,UACd,EAlEsB,EACpB,QFmDI,QAAQ,GAAG,CAAC,QAElB,EAzBkB,EAAE,aAAa,CAAC,OAAO,CAAC,SAAS,EACjD,EAAM,SAAS,CAAC,MAAM,CAAC,aACvB,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAC9B,CAEA,SAAS,IACF,IACL,EAAM,SAAS,CAAC,GAAG,CAAC,aACpB,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,aAC/B,EAAa,SAAS,CAAG,GAC3B,CH7DA,SAAS,gBAAgB,CAAC,mBAAoB,WAC5C,AC6BF,WACE,IAAM,EAAqB,SAAS,aAAa,CAC/C,6BAGF,GAAI,CAAC,EAAoB,OACvB,QAAQ,IAAI,CAAC,uDAII,aAAa,OAAO,CAAC,KACV,IAG5B,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,GAC5B,EAAmB,OAAO,CAAG,CAAA,GAE/B,EAAmB,gBAAgB,CAAC,SAAU,KAC5C,IAAM,EAAmB,EAAmB,OAAO,CAEnD,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAY,GAEvC,EACF,aAAa,OAAO,CAAC,EAAW,GAEhC,aAAa,UAAU,CAAC,EAE5B,EACF,IDxDE,AENF,WACE,IAAM,EAAgB,SAAS,aAAa,CAAC,uBACvC,EAAqB,SAAS,aAAa,CAAC,iBAC5C,EAAa,SAAS,aAAa,CAAC,mBACpC,EAAS,SAAS,aAAa,CAAC,UAChC,EAAgB,SAAS,aAAa,CAAC,sBAE7C,GAAI,CAAC,GAAiB,CAAC,GAAc,CAAC,GAAU,CAAC,EAAoB,OACnE,QAAQ,IAAI,CAAC,wDAcf,SAAS,IACP,EAAW,SAAS,CAAC,MAAM,CAAC,QAC5B,EAAO,SAAS,CAAC,MAAM,CAAC,eACxB,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,aAC/B,SAAS,mBAAmB,CAAC,QAAS,EACxC,CAEA,SAAS,EAAgB,CAAC,EACxB,IAAM,EAAkB,EAAW,QAAQ,CAAC,EAAE,MAAM,EAC9C,EAAgB,EAAc,QAAQ,CAAC,EAAE,MAAM,EAG/C,EAAuB,GAAe,SAAS,EAAE,MAAM,CAEzD,CAAC,GAAoB,GAAkB,GACzC,GAEJ,CA3BA,EAAc,gBAAgB,CAAC,QAG/B,WACE,EAAW,SAAS,CAAC,GAAG,CAAC,QACzB,EAAO,SAAS,CAAC,GAAG,CAAC,eACrB,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAC5B,SAAS,gBAAgB,CAAC,QAAS,EACrC,GAPA,EAAmB,gBAAgB,CAAC,QAAS,EA2B/C,IFjCE,AGDF,WAKE,GAJA,EAAQ,SAAS,aAAa,CAAC,UAC/B,EAAU,SAAS,aAAa,CAAC,kBACjC,EAAe,SAAS,aAAa,CAAC,kBAElC,CAAC,GAAS,CAAC,GAAW,CAAC,EAAc,OACvC,QAAQ,IAAI,CAAC,wCAWf,SAAS,gBAAgB,CAAC,qBAAqB,OAAO,CAAC,AAAA,IACrD,EAAI,gBAAgB,CAAC,QAAS,EAChC,GAIA,SAAS,gBAAgB,CAAC,sBAAsB,OAAO,CAAC,AAAA,IACtD,EAAI,gBAAgB,CAAC,QAAS,EAChC,GAII,GACF,EAAQ,gBAAgB,CAAC,QAAS,AAAA,IAC5B,EAAE,MAAM,GAAK,GACf,GAEJ,GAKF,SAAS,gBAAgB,CAAC,UAAW,AAAA,IAC/B,AAAU,WAAV,EAAE,GAAG,EAAiB,GAAS,CAAC,EAAM,SAAS,CAAC,QAAQ,CAAC,cAC3D,GAEJ,EA7BF,GHZA","sources":["<anon>","src/index.js","src/js/main.js","src/js/components/themeSwitcher.js","src/js/components/mobileMenu.js","src/js/components/modal.js","src/js/components/renderOrderForm.js","src/js/utils/orderFormValidator.js","src/js/utils/formStorage.js"],"sourcesContent":["\n// const themeSwitcherInput = document.querySelector('.js-theme-switcher__input');\n// const DARK = 'dark-theme';\n// const THEME = 'theme';\n// initTheme();\n// themeSwitcherInput.addEventListener('change', onSwitherInputChange);\n// function onSwitherInputChange() {\n//   document.body.classList.toggle(DARK);\n//   if (document.body.classList.contains(DARK)) {\n//     localStorage.setItem(THEME, DARK);\n//   } else {\n//     localStorage.removeItem(THEME);\n//   }\n// }\n// function initTheme() {\n//   try {\n//     const savedTheme = localStorage.getItem(THEME);\n//     if (!savedTheme) {\n//       return;\n//     }\n//     document.body.classList.add(savedTheme);\n//     themeSwitcherInput.checked = true;\n//   } catch (error) {\n//     console.error('ERROR! Can not find saved theme in local storage', error);\n//   }\n// }\nconst $b2b36ca342073935$var$THEME_KEY = 'theme';\nconst $b2b36ca342073935$var$DARK_CLASS = 'dark-theme';\nfunction $b2b36ca342073935$export$4c47704ed26c13e8() {\n    const themeSwitcherInput = document.querySelector('.js-theme-switcher__input');\n    if (!themeSwitcherInput) {\n        console.warn('Theme switcher not found: .js-theme-switcher__input');\n        return;\n    }\n    const savedTheme = localStorage.getItem($b2b36ca342073935$var$THEME_KEY);\n    const isDark = savedTheme === $b2b36ca342073935$var$DARK_CLASS;\n    if (isDark) {\n        document.body.classList.add($b2b36ca342073935$var$DARK_CLASS);\n        themeSwitcherInput.checked = true;\n    }\n    themeSwitcherInput.addEventListener('change', ()=>{\n        const shouldEnableDark = themeSwitcherInput.checked;\n        document.body.classList.toggle($b2b36ca342073935$var$DARK_CLASS, shouldEnableDark);\n        if (shouldEnableDark) localStorage.setItem($b2b36ca342073935$var$THEME_KEY, $b2b36ca342073935$var$DARK_CLASS);\n        else localStorage.removeItem($b2b36ca342073935$var$THEME_KEY);\n    });\n}\n\n\nfunction $e45e5792ded047a8$export$b61d4be8ddba9539() {\n    const mobileMenuBtn = document.querySelector('.js-mobile-menu-btn');\n    const mobileMenuCloseBtn = document.querySelector('.js-close-btn');\n    const mobileMenu = document.querySelector('.js-mobile-menu');\n    const header = document.querySelector('header');\n    const themeSwitcher = document.querySelector('.js-theme-switcher');\n    if (!mobileMenuBtn || !mobileMenu || !header || !mobileMenuCloseBtn) {\n        console.warn(\"Mobile menu: \\u043E\\u0434\\u0438\\u043D \\u0438\\u043B\\u0438 \\u043D\\u0435\\u0441\\u043A\\u043E\\u043B\\u044C\\u043A\\u043E \\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u043E\\u0432 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u044B\");\n        return;\n    }\n    mobileMenuBtn.addEventListener('click', onOpenMenu);\n    mobileMenuCloseBtn.addEventListener('click', onCloseMenu);\n    function onOpenMenu() {\n        mobileMenu.classList.add('open');\n        header.classList.add('menu-opened');\n        document.body.classList.add('no-scroll');\n        document.addEventListener('click', onDocumentClick);\n    }\n    function onCloseMenu() {\n        mobileMenu.classList.remove('open');\n        header.classList.remove('menu-opened');\n        document.body.classList.remove('no-scroll');\n        document.removeEventListener('click', onDocumentClick);\n    }\n    function onDocumentClick(e) {\n        const clickInsideMenu = mobileMenu.contains(e.target);\n        const clickOnButton = mobileMenuBtn.contains(e.target);\n        // const clickOnThemeSwitcher =\n        //   themeSwitcher && themeSwitcher.contains(e.target);\n        const clickOnThemeSwitcher = themeSwitcher?.contains(e.target);\n        if (!clickInsideMenu && !clickOnButton && !clickOnThemeSwitcher) onCloseMenu();\n    }\n}\n\n\nfunction $fdaceafb7fcaf605$export$1ecc28c3b6ddcb08() {\n    return `\n  <form name=\"order_form\" autocomplete=\"on\" class=\"order-form js-order-form\" novalidate>\n        <h2 id=\"form-title\" class=\"order-form__title\">Order now</h2>\n        <div\n          role=\"group\"\n          aria-labelledby=\"form-title\"\n          class=\"order-form__group\"\n        >\n          <label class=\"order-form__label\">\n          <span class=\"order-form__label-text\">Name</span>\n          <input type=\"text\" name=\"username\" class=\"order-form__input\"  />\n          <span class=\"order-form__error-message\"></span>\n          </label>\n\n          <label class=\"order-form__label\">\n            <span class=\"order-form__label-text\">Phone number</span>\n            <input type=\"tel\" inputmode=\"tel\" name=\"phone_number\" class=\"order-form__input\" />\n            <span class=\"order-form__error-message\"></span>\n          </label>\n\n          <label class=\"order-form__label\">\n            <span class=\"order-form__label-text\">Email</span>\n            <input type=\"email\" name=\"email\" class=\"order-form__input\"  />\n            <span class=\"order-form__error-message\"></span>\n          </label>\n\n          <label class=\"order-form__label\">\n            <span class=\"order-form__label-text\">Comment</span>\n            <textarea\n              name=\"comments\"\n              rows=\"4\"\n              class=\"order-form__textarea\"\n            ></textarea>\n          </label>\n        </div>\n\n        <button type=\"submit\" class=\"order-form__submit-btn\">Send</button>\n      </form>\n  `;\n}\n\n\n\nconst $b9972f4ec23edf5f$var$validationConfig = {\n    username: {\n        required: true,\n        errorMessage: 'Please enter your name'\n    },\n    phone_number: {\n        required: true,\n        pattern: /^[\\d\\s+()-]{7,20}$/,\n        errorMessage: 'Enter a valid phone number'\n    },\n    email: {\n        required: true,\n        pattern: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\n        errorMessage: 'Enter a valid email address'\n    }\n};\nfunction $b9972f4ec23edf5f$export$69fe17554d60a4d6() {\n    const form = document.querySelector('.js-order-form');\n    if (!form) return;\n    form.addEventListener('submit', (e)=>{\n        e.preventDefault();\n        $b9972f4ec23edf5f$var$validateForm(form);\n        $b9972f4ec23edf5f$var$checkBeforeSubmit(form);\n    });\n}\nfunction $b9972f4ec23edf5f$var$validateForm(form) {\n    [\n        ...form.elements\n    ].forEach((input)=>{\n        $b9972f4ec23edf5f$var$validateField(input);\n        $b9972f4ec23edf5f$var$attachInputListener(input);\n    });\n}\n// -----------------------------------------------------\nfunction $b9972f4ec23edf5f$var$validateField(inputElement) {\n    const config = $b9972f4ec23edf5f$var$validationConfig[inputElement.name];\n    if (!config) return;\n    const { required: required, pattern: pattern, errorMessage: errorMessage } = config;\n    const value = inputElement.value.trim();\n    const errorEl = $b9972f4ec23edf5f$var$getErrorElement(inputElement);\n    if (required && value === '') $b9972f4ec23edf5f$var$showError(errorEl, errorMessage, inputElement);\n    else if (pattern && !pattern.test(value)) $b9972f4ec23edf5f$var$showError(errorEl, errorMessage, inputElement);\n    else $b9972f4ec23edf5f$var$clearError(inputElement, errorEl);\n}\nfunction $b9972f4ec23edf5f$var$showError(errorElement, message, inputElement) {\n    if (!errorElement || !inputElement) return;\n    if (errorElement.textContent !== message) errorElement.textContent = message;\n    inputElement.classList.add('is-invalid');\n    inputElement.classList.remove('is-valid');\n}\nfunction $b9972f4ec23edf5f$var$clearError(inputElement, errorEl) {\n    inputElement.classList.remove('is-invalid');\n    inputElement.classList.add('is-valid');\n    if (errorEl) errorEl.textContent = '';\n}\nfunction $b9972f4ec23edf5f$var$checkBeforeSubmit(form) {\n    const invalidInput = [\n        ...form.elements\n    ].find((input)=>input.classList.contains('is-invalid'));\n    if (invalidInput) {\n        invalidInput.focus();\n        return;\n    }\n    $b9972f4ec23edf5f$var$resetValidationState(form);\n    form.reset();\n    (0, $65a0cd66e497f444$export$3f6fecd573f3fa48)();\n    console.log('success');\n}\nfunction $b9972f4ec23edf5f$var$resetValidationState(form) {\n    [\n        ...form.elements\n    ].forEach((input)=>{\n        input.classList.remove('is-valid', 'is-invalid');\n        delete input.dataset.listenerAdded;\n        const errorEl = $b9972f4ec23edf5f$var$getErrorElement(input);\n        if (errorEl) errorEl.textContent = '';\n    });\n}\nfunction $b9972f4ec23edf5f$var$attachInputListener(input) {\n    if (!input.name || input.dataset.listenerAdded || !$b9972f4ec23edf5f$var$validationConfig[input.name]) return;\n    input.addEventListener('input', ()=>{\n        $b9972f4ec23edf5f$var$validateField(input);\n    });\n    input.dataset.listenerAdded = 'true';\n}\nfunction $b9972f4ec23edf5f$var$getErrorElement(input) {\n    return input.closest('label')?.querySelector('.order-form__error-message');\n}\n\n\nfunction $897b370936d4d577$export$944ea6f53f34ae8f() {}\nfunction $897b370936d4d577$export$405006515d8437d3() {\n    const formData = localStorage.getItem();\n    const form = document.querySelector('.js-order-form');\n}\n\n\nlet $65a0cd66e497f444$var$modal, $65a0cd66e497f444$var$overlay, $65a0cd66e497f444$var$modalContent;\nfunction $65a0cd66e497f444$export$60523367a7e10402() {\n    $65a0cd66e497f444$var$modal = document.querySelector('.modal');\n    $65a0cd66e497f444$var$overlay = document.querySelector('.modal-overlay');\n    $65a0cd66e497f444$var$modalContent = document.querySelector('.modal-content');\n    if (!$65a0cd66e497f444$var$modal || !$65a0cd66e497f444$var$overlay || !$65a0cd66e497f444$var$modalContent) {\n        console.warn('Modal: one of the elements not found');\n        return;\n    }\n    $65a0cd66e497f444$var$setupOpenButtons();\n    $65a0cd66e497f444$var$setupCloseButtons();\n    $65a0cd66e497f444$var$handleOverlayClick();\n    $65a0cd66e497f444$var$handleEscapeKey();\n}\nfunction $65a0cd66e497f444$var$setupOpenButtons() {\n    document.querySelectorAll('[data-modal-open]').forEach((btn)=>{\n        btn.addEventListener('click', $65a0cd66e497f444$var$openModal);\n    });\n}\nfunction $65a0cd66e497f444$var$setupCloseButtons() {\n    document.querySelectorAll('[data-modal-close]').forEach((btn)=>{\n        btn.addEventListener('click', $65a0cd66e497f444$export$3f6fecd573f3fa48);\n    });\n}\nfunction $65a0cd66e497f444$var$handleOverlayClick() {\n    if ($65a0cd66e497f444$var$overlay) $65a0cd66e497f444$var$overlay.addEventListener('click', (e)=>{\n        if (e.target === $65a0cd66e497f444$var$overlay) $65a0cd66e497f444$export$3f6fecd573f3fa48();\n    });\n}\nfunction $65a0cd66e497f444$var$handleEscapeKey() {\n    document.addEventListener('keydown', (e)=>{\n        if (e.key === 'Escape' && $65a0cd66e497f444$var$modal && !$65a0cd66e497f444$var$modal.classList.contains('is-hidden')) $65a0cd66e497f444$export$3f6fecd573f3fa48();\n    });\n}\nfunction $65a0cd66e497f444$var$openModal(e) {\n    if (!$65a0cd66e497f444$var$modal) return;\n    $65a0cd66e497f444$var$setModalContent(e.currentTarget.dataset.modalType);\n    $65a0cd66e497f444$var$modal.classList.remove('is-hidden');\n    document.body.classList.add('no-scroll');\n}\nfunction $65a0cd66e497f444$export$3f6fecd573f3fa48() {\n    if (!$65a0cd66e497f444$var$modal) return;\n    $65a0cd66e497f444$var$modal.classList.add('is-hidden');\n    document.body.classList.remove('no-scroll');\n    $65a0cd66e497f444$var$modalContent.innerHTML = '';\n}\nfunction $65a0cd66e497f444$var$setModalContent(modalType) {\n    if (!$65a0cd66e497f444$var$modalContent || !modalType) return;\n    switch(modalType){\n        case 'order':\n            $65a0cd66e497f444$var$modalContent.innerHTML = (0, $fdaceafb7fcaf605$export$1ecc28c3b6ddcb08)();\n            (0, $897b370936d4d577$export$405006515d8437d3)();\n            (0, $b9972f4ec23edf5f$export$69fe17554d60a4d6)();\n            break;\n        default:\n            console.log('error');\n    }\n}\n\n\ndocument.addEventListener('DOMContentLoaded', async ()=>{\n    (0, $b2b36ca342073935$export$4c47704ed26c13e8)();\n    (0, $e45e5792ded047a8$export$b61d4be8ddba9539)();\n    (0, $65a0cd66e497f444$export$60523367a7e10402)();\n});\n\n\n\n\n//# sourceMappingURL=Tasty-treats.021e860a.js.map\n","import './scss/index.scss';\nimport './js/main.js';\n","import { initTheme } from './components/themeSwitcher';\nimport { initMobileMenu } from './components/mobileMenu';\nimport { initModal } from './components/modal.js';\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  initTheme();\n  initMobileMenu();\n  initModal();\n});\n","// const themeSwitcherInput = document.querySelector('.js-theme-switcher__input');\n// const DARK = 'dark-theme';\n// const THEME = 'theme';\n\n// initTheme();\n\n// themeSwitcherInput.addEventListener('change', onSwitherInputChange);\n\n// function onSwitherInputChange() {\n//   document.body.classList.toggle(DARK);\n\n//   if (document.body.classList.contains(DARK)) {\n//     localStorage.setItem(THEME, DARK);\n//   } else {\n//     localStorage.removeItem(THEME);\n//   }\n// }\n\n// function initTheme() {\n//   try {\n//     const savedTheme = localStorage.getItem(THEME);\n\n//     if (!savedTheme) {\n//       return;\n//     }\n//     document.body.classList.add(savedTheme);\n//     themeSwitcherInput.checked = true;\n//   } catch (error) {\n//     console.error('ERROR! Can not find saved theme in local storage', error);\n//   }\n// }\nconst THEME_KEY = 'theme';\nconst DARK_CLASS = 'dark-theme';\n\nfunction initTheme() {\n  const themeSwitcherInput = document.querySelector(\n    '.js-theme-switcher__input'\n  );\n\n  if (!themeSwitcherInput) {\n    console.warn('Theme switcher not found: .js-theme-switcher__input');\n    return;\n  }\n\n  const savedTheme = localStorage.getItem(THEME_KEY);\n  const isDark = savedTheme === DARK_CLASS;\n\n  if (isDark) {\n    document.body.classList.add(DARK_CLASS);\n    themeSwitcherInput.checked = true;\n  }\n  themeSwitcherInput.addEventListener('change', () => {\n    const shouldEnableDark = themeSwitcherInput.checked;\n\n    document.body.classList.toggle(DARK_CLASS, shouldEnableDark);\n\n    if (shouldEnableDark) {\n      localStorage.setItem(THEME_KEY, DARK_CLASS);\n    } else {\n      localStorage.removeItem(THEME_KEY);\n    }\n  });\n}\n\nexport { initTheme };\n","function initMobileMenu() {\n  const mobileMenuBtn = document.querySelector('.js-mobile-menu-btn');\n  const mobileMenuCloseBtn = document.querySelector('.js-close-btn');\n  const mobileMenu = document.querySelector('.js-mobile-menu');\n  const header = document.querySelector('header');\n  const themeSwitcher = document.querySelector('.js-theme-switcher');\n\n  if (!mobileMenuBtn || !mobileMenu || !header || !mobileMenuCloseBtn) {\n    console.warn('Mobile menu: один или несколько элементов не найдены');\n    return;\n  }\n\n  mobileMenuBtn.addEventListener('click', onOpenMenu);\n  mobileMenuCloseBtn.addEventListener('click', onCloseMenu);\n\n  function onOpenMenu() {\n    mobileMenu.classList.add('open');\n    header.classList.add('menu-opened');\n    document.body.classList.add('no-scroll');\n    document.addEventListener('click', onDocumentClick);\n  }\n\n  function onCloseMenu() {\n    mobileMenu.classList.remove('open');\n    header.classList.remove('menu-opened');\n    document.body.classList.remove('no-scroll');\n    document.removeEventListener('click', onDocumentClick);\n  }\n\n  function onDocumentClick(e) {\n    const clickInsideMenu = mobileMenu.contains(e.target);\n    const clickOnButton = mobileMenuBtn.contains(e.target);\n    // const clickOnThemeSwitcher =\n    //   themeSwitcher && themeSwitcher.contains(e.target);\n    const clickOnThemeSwitcher = themeSwitcher?.contains(e.target);\n\n    if (!clickInsideMenu && !clickOnButton && !clickOnThemeSwitcher) {\n      onCloseMenu();\n    }\n  }\n}\n\nexport { initMobileMenu };\n","import { renderOrderForm } from './renderOrderForm.js';\nimport { initOrderFormValidation } from '../utils/orderFormValidator.js';\nimport { restoreFormStateFromLocalStorage } from '../utils/formStorage.js';\n\nlet modal, overlay, modalContent;\n\nfunction initModal() {\n  modal = document.querySelector('.modal');\n  overlay = document.querySelector('.modal-overlay');\n  modalContent = document.querySelector('.modal-content');\n\n  if (!modal || !overlay || !modalContent) {\n    console.warn('Modal: one of the elements not found');\n    return;\n  }\n\n  setupOpenButtons();\n  setupCloseButtons();\n  handleOverlayClick();\n  handleEscapeKey();\n}\n\nfunction setupOpenButtons() {\n  document.querySelectorAll('[data-modal-open]').forEach(btn => {\n    btn.addEventListener('click', openModal);\n  });\n}\n\nfunction setupCloseButtons() {\n  document.querySelectorAll('[data-modal-close]').forEach(btn => {\n    btn.addEventListener('click', closeModal);\n  });\n}\n\nfunction handleOverlayClick() {\n  if (overlay) {\n    overlay.addEventListener('click', e => {\n      if (e.target === overlay) {\n        closeModal();\n      }\n    });\n  }\n}\n\nfunction handleEscapeKey() {\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape' && modal && !modal.classList.contains('is-hidden')) {\n      closeModal();\n    }\n  });\n}\n\nfunction openModal(e) {\n  if (!modal) return;\n\n  setModalContent(e.currentTarget.dataset.modalType);\n  modal.classList.remove('is-hidden');\n  document.body.classList.add('no-scroll');\n}\n\nfunction closeModal() {\n  if (!modal) return;\n  modal.classList.add('is-hidden');\n  document.body.classList.remove('no-scroll');\n  modalContent.innerHTML = '';\n}\n\nfunction setModalContent(modalType) {\n  if (!modalContent || !modalType) return;\n\n  switch (modalType) {\n    case 'order':\n      modalContent.innerHTML = renderOrderForm();\n      restoreFormStateFromLocalStorage();\n      initOrderFormValidation();\n      break;\n\n    default:\n      console.log('error');\n  }\n}\n\nexport { initModal, closeModal };\n","function renderOrderForm() {\n  return `\n  <form name=\"order_form\" autocomplete=\"on\" class=\"order-form js-order-form\" novalidate>\n        <h2 id=\"form-title\" class=\"order-form__title\">Order now</h2>\n        <div\n          role=\"group\"\n          aria-labelledby=\"form-title\"\n          class=\"order-form__group\"\n        >\n          <label class=\"order-form__label\">\n          <span class=\"order-form__label-text\">Name</span>\n          <input type=\"text\" name=\"username\" class=\"order-form__input\"  />\n          <span class=\"order-form__error-message\"></span>\n          </label>\n\n          <label class=\"order-form__label\">\n            <span class=\"order-form__label-text\">Phone number</span>\n            <input type=\"tel\" inputmode=\"tel\" name=\"phone_number\" class=\"order-form__input\" />\n            <span class=\"order-form__error-message\"></span>\n          </label>\n\n          <label class=\"order-form__label\">\n            <span class=\"order-form__label-text\">Email</span>\n            <input type=\"email\" name=\"email\" class=\"order-form__input\"  />\n            <span class=\"order-form__error-message\"></span>\n          </label>\n\n          <label class=\"order-form__label\">\n            <span class=\"order-form__label-text\">Comment</span>\n            <textarea\n              name=\"comments\"\n              rows=\"4\"\n              class=\"order-form__textarea\"\n            ></textarea>\n          </label>\n        </div>\n\n        <button type=\"submit\" class=\"order-form__submit-btn\">Send</button>\n      </form>\n  `;\n}\n\nexport { renderOrderForm };\n","import { closeModal } from '../components/modal';\n\nconst validationConfig = {\n  username: {\n    required: true,\n    errorMessage: 'Please enter your name',\n  },\n  phone_number: {\n    required: true,\n    pattern: /^[\\d\\s+()-]{7,20}$/,\n    errorMessage: 'Enter a valid phone number',\n  },\n  email: {\n    required: true,\n    pattern: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\n    errorMessage: 'Enter a valid email address',\n  },\n};\n\nfunction initOrderFormValidation() {\n  const form = document.querySelector('.js-order-form');\n  if (!form) return;\n\n  form.addEventListener('submit', e => {\n    e.preventDefault();\n    validateForm(form);\n    checkBeforeSubmit(form);\n  });\n}\n\nfunction validateForm(form) {\n  [...form.elements].forEach(input => {\n    validateField(input);\n    attachInputListener(input);\n  });\n}\n\nexport { initOrderFormValidation };\n\n// -----------------------------------------------------\n\nfunction validateField(inputElement) {\n  const config = validationConfig[inputElement.name];\n\n  if (!config) return;\n\n  const { required, pattern, errorMessage } = config;\n  const value = inputElement.value.trim();\n  const errorEl = getErrorElement(inputElement);\n\n  if (required && value === '') {\n    showError(errorEl, errorMessage, inputElement);\n  } else if (pattern && !pattern.test(value)) {\n    showError(errorEl, errorMessage, inputElement);\n  } else {\n    clearError(inputElement, errorEl);\n  }\n}\n\nfunction showError(errorElement, message, inputElement) {\n  if (!errorElement || !inputElement) return;\n\n  if (errorElement.textContent !== message) {\n    errorElement.textContent = message;\n  }\n\n  inputElement.classList.add('is-invalid');\n  inputElement.classList.remove('is-valid');\n}\n\nfunction clearError(inputElement, errorEl) {\n  inputElement.classList.remove('is-invalid');\n  inputElement.classList.add('is-valid');\n  if (errorEl) {\n    errorEl.textContent = '';\n  }\n}\n\nfunction checkBeforeSubmit(form) {\n  const invalidInput = [...form.elements].find(input =>\n    input.classList.contains('is-invalid')\n  );\n\n  if (invalidInput) {\n    invalidInput.focus();\n    return;\n  }\n\n  resetValidationState(form);\n  form.reset();\n  closeModal();\n  console.log('success');\n}\n\nfunction resetValidationState(form) {\n  [...form.elements].forEach(input => {\n    input.classList.remove('is-valid', 'is-invalid');\n    delete input.dataset.listenerAdded;\n\n    const errorEl = getErrorElement(input);\n\n    if (errorEl) errorEl.textContent = '';\n  });\n}\n\nfunction attachInputListener(input) {\n  if (\n    !input.name ||\n    input.dataset.listenerAdded ||\n    !validationConfig[input.name]\n  )\n    return;\n\n  input.addEventListener('input', () => {\n    validateField(input);\n  });\n  input.dataset.listenerAdded = 'true';\n}\n\nfunction getErrorElement(input) {\n  return input.closest('label')?.querySelector('.order-form__error-message');\n}\n","function saveFormStateToLocalStorage() {}\nfunction restoreFormStateFromLocalStorage() {\n  const formData = localStorage.getItem();\n\n  const form = document.querySelector('.js-order-form');\n\n  try {\n  } catch (error) {}\n}\n\nexport { saveFormStateToLocalStorage, restoreFormStateFromLocalStorage };\n"],"names":["$65a0cd66e497f444$var$modal","$65a0cd66e497f444$var$overlay","$65a0cd66e497f444$var$modalContent","$b2b36ca342073935$var$THEME_KEY","$b2b36ca342073935$var$DARK_CLASS","$b9972f4ec23edf5f$var$validationConfig","username","required","errorMessage","phone_number","pattern","email","$b9972f4ec23edf5f$var$validateField","inputElement","errorEl","config","name","value","trim","$b9972f4ec23edf5f$var$getErrorElement","test","$b9972f4ec23edf5f$var$showError","errorElement","message","textContent","classList","add","remove","input","closest","querySelector","$65a0cd66e497f444$var$openModal","e","$65a0cd66e497f444$var$setModalContent","modalType","innerHTML","localStorage","getItem","document","form","addEventListener","preventDefault","elements","forEach","dataset","listenerAdded","$b9972f4ec23edf5f$var$checkBeforeSubmit","invalidInput","find","contains","focus","reset","$65a0cd66e497f444$export$3f6fecd573f3fa48","console","log","currentTarget","body","themeSwitcherInput","warn","checked","shouldEnableDark","toggle","setItem","removeItem","mobileMenuBtn","mobileMenuCloseBtn","mobileMenu","header","themeSwitcher","onCloseMenu","removeEventListener","onDocumentClick","clickInsideMenu","target","clickOnButton","clickOnThemeSwitcher","querySelectorAll","btn","key"],"version":3,"file":"Tasty-treats.021e860a.js.map"}