import"./Tasty-treats.275d5925.js";function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return o[e]=a,t.call(a.exports,a,a.exports),a.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a),a.register;var n=a("2Lp6e"),i=a("fldFS"),l=a("lNHyT"),d=a("jBBdw"),c=a("8IXMh");a("ad2fa");var s=a("eq7JK"),f=a("g8Qcq"),u=a("d1WZ0"),v=a("emajU"),g=a("gC7Fo");let p=null;async function y(){let e=document.querySelector(".fav-categories-btn-wrapper"),t=u.STORAGE_KEYS.FAVORITES_KEY,o=(0,v.loadFromStorage)(t);if(console.log("\uD83D\uDE80 favCategoriesId:",o),!Array.isArray(o)||0===o.length)return void console.log("❗️ No favorites recipes");try{p=await Promise.all(o.map(e=>(0,g.fetchRecipeInfo)(e))),console.log("\uD83D\uDE80 allFavRecipes:",p);let t=p.map(e=>e.category);console.log("\uD83D\uDE80 favCategories:",t),e.innerHTML=t.map(e=>`
        <button class="fav-btn" type="button" aria-label="${e} category button">${e}</button>
        `).join("")}catch(e){throw console.error("Error fetching favorites recipes:",e),e}}var m=a("5a6Bh"),h=a("8e6VR"),b=a("knT2m"),w=a("adAgQ");a("4TfD9");var v=a("emajU"),u=a("d1WZ0");let E=u.STORAGE_KEYS.FAVORITES_KEY,S=(0,v.loadFromStorage)(E)||[];async function T(){let t=document.querySelector(".favorites-gallery-container"),o=document.querySelector(".favorites-gallery");(0,w.showLoader)(o,t);try{console.log(p.length);let o=p.length,r=window.innerWidth>=768?12:9,a=Math.ceil(o/r);for(let e=1;e<=a;e++)for(let e=0;e<r;e++);let n=(0,h.createGalleryMarkup)(p);(0,b.renderGallery)(t,n),function(){S=(0,v.loadFromStorage)(E)||[];let t=document.querySelectorAll(".gallery-item__favorite-btn");t&&t.forEach(t=>{var o,r;let a=t.querySelector(".favorite-btn__icon"),n=t.dataset.id;a&&n&&(o=a,r=n,o&&r&&S.includes(r)&&o.classList.add("saved"),t.addEventListener("click",()=>{if(S.includes(n)){a.classList.remove("saved");let t=S.indexOf(n);S.splice(t,1),e(m).Notify.warning("Removed from favorite",{clickToClose:!0})}else a.classList.add("saved"),S.push(n),e(m).Notify.success("Added to favorite",{clickToClose:!0});if(0===S.length)return void(0,v.removeFromStorage)(E);(0,v.saveToStorage)(E,S)}))})}()}catch(e){throw console.error("Error loading favorite recipes on the client:",e),e}finally{(0,w.hideLoader)(o,t)}}window.ResizeObserver=n.default,document.addEventListener("DOMContentLoaded",async()=>{document.body.classList.add(0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")?"webp":"no-webp"),(0,i.initTheme)(),(0,f.highlightActiveNavLink)(),(0,l.initHeaderEventListeners)(),(0,d.initMobileMenu)(),(0,c.initModal)(),await y(),T(),(0,s.initBackToTop)()});
//# sourceMappingURL=favorites.e12eca07.js.map
