import"./Tasty-treats.56e94747.js";function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},s=t.parcelRequired7c6;null==s&&((s=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var s={id:e,exports:{}};return a[e]=s,t.call(s.exports,s,s.exports),s.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequired7c6=s),s.register;var o=s("2Lp6e"),r=s("fldFS"),i=s("lNHyT"),l=s("jBBdw"),c=s("8IXMh");s("ad2fa");var g=s("eq7JK"),d=s("g8Qcq"),u=s("d1WZ0"),f=s("emajU"),p=s("gC7Fo");let v=null;async function b(){let e=document.querySelector(".fav-categories-btn-wrapper"),t=u.STORAGE_KEYS.FAVORITES_KEY,a=(0,f.loadFromStorage)(t);if(console.log("\uD83D\uDE80 favCategoriesId:",a),!Array.isArray(a)||0===a.length)return void console.log("❗️ No favorites recipes");try{v=await Promise.all(a.map(e=>(0,p.fetchRecipeInfo)(e))),console.log("\uD83D\uDE80 allFavRecipes:",v);let t=[...new Set(v.map(e=>e.category))];console.log("\uD83D\uDE80 favCategories:",t),e.innerHTML=t.map(e=>`
        <button class="fav-btn" type="button" aria-label="${e} category button">${e}</button>
        `).join("")}catch(e){throw console.error("Error fetching favorites recipes:",e),e}}var m=s("5a6Bh"),B=s("8e6VR"),D=s("knT2m"),y=s("adAgQ");function P(){console.log("onFirstPageBtnClick"),R()}async function E(){let{currentPage:e}=k();console.log("\uD83D\uDE80 currentPage:",e),await R(e-1)}async function L(e){_(e);let{firstBtnPageNumber:t}=k();await R(t)}function h(e){q(e)}function x(e){q(e)}function S(e){q(e)}async function w(e){_(e);let{firstBtnPageNumber:t}=k();await R(t)}async function N(){let{currentPage:e,existingPageBtns:t}=k(),a=e+1;console.log("\uD83D\uDE80 nextPage:",a),t.forEach(e=>{e.classList.toggle("active",Number(e.dataset.page)===a)}),await R(a)}async function T(){let{totalPages:e}=k();console.log("\uD83D\uDE80 lastPage:",e),await R(e)}async function q(e){console.log(e.target);let{existingPageBtns:t,currentPage:a}=k();console.log("\uD83D\uDE80 existingPageBtns:",t),console.log("\uD83D\uDE80 currentPage:",a);let n=e.currentTarget,s=Number(n.dataset.page);console.log("\uD83D\uDE80 btnPageNumber:",s),s!==a&&(t.forEach(e=>{e.classList.remove("active")}),n.classList.add("active"),await R(s))}function k(){let e=document.querySelector(".home-pagination"),t=e.querySelector(".js-first-page-btn"),a=e.querySelector(".js-prev-page-btn"),n=e.querySelector(".js-pagination-prev-pages-btn"),s=e.querySelector(".js-pagination-first-btn"),o=e.querySelector(".js-pagination-second-btn"),r=e.querySelector(".js-pagination-third-btn"),i=e.querySelector(".js-pagination-next-pages-btn"),l=e.querySelector(".js-pagination-next-page-btn"),c=e.querySelector(".js-pagination-last-page-btn"),g=e.querySelector(".js-pagination__center-btns-wrapper"),d=F,u=C,f=[...g.children].filter(e=>e.dataset.page),p=Number(f[0].dataset.page),v=f.length,b=Number(f[f.length-1].dataset.page);return{firstPageBtn:t,prevPageBtn:a,prevPagesBtn:n,firstBtn:s,secondBtn:o,thirdBtn:r,nextPagesBtn:i,nextPageBtn:l,lastPageBtn:c,pageBtnsContainer:g,totalPages:d,existingPageBtns:f,pageBtnsAmount:v,firstBtnPageNumber:p,lastBtnPageNumber:b,isLastBtns:b>=d,isFirstBtns:p<v,currentPage:u}}function _(e){let{firstPageBtn:t,nextPagesBtn:a,prevPagesBtn:n,existingPageBtns:s,pageBtnsAmount:o}=k();if(e.currentTarget===a)for(let e=0;e<o;e++)s[e].dataset.page=`${Number(s[e].dataset.page)+o}`,s[e].textContent=s[e].dataset.page,t.classList.contains("active")||s[e].classList.remove("active");else if(e.currentTarget===n)for(let e=0;e<o;e++)s[e].dataset.page=`${Number(s[e].dataset.page)-o}`,s[e].textContent=s[e].dataset.page,t.classList.contains("active")||s[e].classList.remove("active")}var f=s("emajU"),u=s("d1WZ0");let j=u.STORAGE_KEYS.FAVORITES_KEY,A=(0,f.loadFromStorage)(j)||[],C=null,F=null;async function R(t=1){console.log("\uD83D\uDE80 page:",C=t);let a=document.querySelector(".favorites-gallery-container"),n=document.querySelector(".favorites-gallery");(0,y.showLoader)(n,a);try{let t=v.length,n=window.innerWidth>=768?12:9;F=Math.ceil(t/n),console.log("\uD83D\uDE80 recipesAmount:",t),console.log("\uD83D\uDE80 perPage:",n),console.log("\uD83D\uDE80 totalPages:",F);let s=(C-1)*n,o=s+n;console.log("\uD83D\uDE80 start:",s),console.log("\uD83D\uDE80 end:",o);let r=v.splice(s,o);console.log("\uD83D\uDE80 recipesToRender:",r);let i=(0,B.createGalleryMarkup)(r);(0,D.renderGallery)(a,i),function(e,t){let{pageBtnsAmount:a,firstPageBtn:n,prevPageBtn:s,existingPageBtns:o,prevPagesBtn:r,nextPagesBtn:i,nextPageBtn:l,lastPageBtn:c,firstBtnPageNumber:g,lastBtnPageNumber:d}=k();if(1===e)for(let t=0;t<a;t++)o[t].dataset.page=e+t,o[t].textContent=o[t].dataset.page;else if(e===t)for(let t=a-1,n=0;n<a;t--,n++)o[t].dataset.page=e-n,o[t].textContent=o[t].dataset.page,o[t].classList.toggle("visually-hidden",0===Number(o[t].dataset.page));else if(e>d)for(let t=0;t<a;t++)o[t].dataset.page=e+t,o[t].textContent=o[t].dataset.page;else if(e<g)for(let t=a-1,n=0;n<a;t--,n++)o[t].dataset.page=e-n,o[t].textContent=o[t].dataset.page;let{isLastBtns:u,isFirstBtns:f}=k();o.forEach(a=>{let n=Number(a.dataset.page);n&&(a.classList.toggle("visually-hidden",n>t||0===n),a.classList.toggle("active",Number(a.dataset.page)===e))}),n.classList.toggle("disabled",1===e),s.classList.toggle("disabled",1===e),r.classList.toggle("disabled",f),i.classList.toggle("disabled",u),l.classList.toggle("disabled",e===t),c.classList.toggle("disabled",e===t)}(C,F),function(){A=(0,f.loadFromStorage)(j)||[];let t=document.querySelectorAll(".gallery-item__favorite-btn");t&&t.forEach(t=>{var a,n;let s=t.querySelector(".favorite-btn__icon"),o=t.dataset.id;s&&o&&(a=s,n=o,a&&n&&A.includes(n)&&a.classList.add("saved"),t.addEventListener("click",()=>{if(A.includes(o)){s.classList.remove("saved");let t=A.indexOf(o);A.splice(t,1),e(m).Notify.warning("Removed from favorite",{clickToClose:!0})}else s.classList.add("saved"),A.push(o),e(m).Notify.success("Added to favorite",{clickToClose:!0});if(0===A.length)return void(0,f.removeFromStorage)(j);(0,f.saveToStorage)(j,A)}))})}()}catch(e){throw console.error("Error loading favorite recipes on the client:",e),e}finally{(0,y.hideLoader)(n,a)}}var O=s("JxTJl");window.ResizeObserver=o.default,document.addEventListener("DOMContentLoaded",async()=>{document.body.classList.add(0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")?"webp":"no-webp"),(0,r.initTheme)(),(0,d.highlightActiveNavLink)(),(0,O.renderPaginationButtons)(),(0,i.initHeaderEventListeners)(),(0,l.initMobileMenu)();let{firstPageBtn:e,prevPageBtn:t,nextPagesBtn:a,lastPageBtn:n,nextPageBtn:s,prevPagesBtn:o,firstBtn:u,secondBtn:f,thirdBtn:p}=k();e?.addEventListener("click",P),t?.addEventListener("click",E),o?.addEventListener("click",L),u?.addEventListener("click",h),f?.addEventListener("click",x),p?.addEventListener("click",S),a?.addEventListener("click",w),s?.addEventListener("click",N),n?.addEventListener("click",T),(0,c.initModal)(),await b(),R(),(0,g.initBackToTop)()});
//# sourceMappingURL=favorites.42a463bc.js.map
